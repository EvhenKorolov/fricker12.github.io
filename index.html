<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
	<title>Telegram Web App</title>
</head>
<body>

	<div class="container">
		<!-- Приветственное сообщение будет вставлено здесь через JavaScript -->
		<h2 class="title">Адмін зараз слухає на Spotify</h2>
		<a href="https://spotify-github-profile.kittinanx.com/api/view.svg?uid=21f6yy7o4zdnzdffahkzebd6i&redirect=true][https://spotify-github-profile.kittinanx.com/api/view.svg?uid=21f6yy7o4zdnzdffahkzebd6i&cover_image=true&theme=novatorem&show_offline=true&background_color=121212&interchange=false&bar_color=53b14f&bar_color_cover">
			<img id="profileImg" src="https://spotify-github-profile.kittinanx.com/api/view.svg?uid=21f6yy7o4zdnzdffahkzebd6i&redirect=true][https://spotify-github-profile.kittinanx.com/api/view.svg?uid=21f6yy7o4zdnzdffahkzebd6i&cover_image=true&theme=novatorem&show_offline=true&background_color=121212&interchange=false&bar_color=53b14f&bar_color_cover" alt="Spotify Profile">
		</a>
		<details>
			<summary class="title">Останнє прослухане</summary>
			<a href="https://spotify-recently-played-readme.vercel.app/api?user=21f6yy7o4zdnzdffahkzebd6i">
				<img id="recentlyPlayedImg" src="https://spotify-recently-played-readme.vercel.app/api?user=21f6yy7o4zdnzdffahkzebd6i&width=500" alt="Spotify recently played"></a>
		</details>
		<details>
			<summary class="title">Карта повітрянної тривоги</summary>
			<iframe id="alertsIframe" src="https://alerts.in.ua" width="500" height="600" style="border: none;"></iframe>
		</details>

		<details>
			<summary class="title">Бан користувачів</summary>
			<div class="inner">
				<div class="item">
					<img src="1.png" alt="Бойко" class="img">
					<p class="description">Бойко</p>
					<button class="btn" id="btn1">Забанить</button>
				</div>
				<div class="item">
					<img src="1.png" alt="Бобровский" class="img">
					<p class="description">Бобровский</p>
					<button class="btn" id="btn2">Забанить</button>
				</div>
				<div class="item">
					<img src="1.png" alt="Шамрай" class="img">
					<p class="description">Шамрай</p>
					<button class="btn" id="btn3">Забанить</button>
				</div>
				<div class="item">
					<img src="1.png" alt="Ткаченко" class="img">
					<p class="description">Ткаченко</p>
					<button class="btn" id="btn4">Забанить</button>
				</div>
				<div class="item">
					<img src="1.png" alt="Суворов" class="img">
					<p class="description">Суворов</p>
					<button class="btn" id="btn5">Забанить</button>
				</div>
				<div class="item">
					<img src="1.png" alt="Твай" class="img">
					<p class="description">Твай</p>
					<button class="btn" id="btn6">Забанить</button>
				</div>
				<div class="item">
					<img src="1.png" alt="Кравец" class="img">
					<p class="description">Кравец</p>
					<button class="btn" id="btn7">Забанить</button>
				</div>
				<div class="item">
					<img src="1.png" alt="Pavlo" class="img">
					<p class="description">Pavlo</p>
					<button class="btn" id="btn8">Забанить</button>
				</div>
			</div>
		</details>
	</div>

	<script src="https://telegram.org/js/telegram-web-app.js"></script>
	<script src="app.js"></script>
	<script>
		// Пример кода для добавления приветственного сообщения
		let tg = window.Telegram.WebApp;

		// Проверяем, есть ли информация о пользователе
		let user = tg.initDataUnsafe.user;

		if (user) {
			// Создаем новый элемент <h2>
			let greetingMessage = document.createElement("h2");
			greetingMessage.textContent = `Привіт, ${user.first_name} ${user.last_name}!`;

			// Добавляем класс "title" для стилей
			greetingMessage.classList.add("greeting-message");

			// Вставляем приветственное сообщение перед существующим заголовком "Адмін зараз слухає на Spotify"
			let container = document.querySelector(".container");
			let titleElement = document.querySelector(".title");
			container.insertBefore(greetingMessage, titleElement);
		}
	</script>
	<script>
		// Функция для обновления содержимого блока
		function updateContent() {
			// Обновление изображения профиля
			const profileImg = document.getElementById('profileImg');
			profileImg.src = "https://spotify-github-profile.kittinanx.com/api/view.svg?uid=21f6yy7o4zdnzdffahkzebd6i&redirect=true][https://spotify-github-profile.kittinanx.com/api/view.svg?uid=21f6yy7o4zdnzdffahkzebd6i&cover_image=true&theme=novatorem&show_offline=true&background_color=121212&interchange=false&bar_color=53b14f&bar_color_cover&" + new Date().getTime();

			const recentlyPlayedImg = document.getElementById('recentlyPlayedImg');
			recentlyPlayedImg.src = "https://spotify-recently-played-readme.vercel.app/api?user=21f6yy7o4zdnzdffahkzebd6i&width=500&" + new Date().getTime();
		}
		// Устанавливаем интервал на 15 секунд (15000 миллисекунд)
		setInterval(updateContent, 15000);
	</script>
	<script>
    function updateAlertIframe() {
        const alertsIframe = document.getElementById('alertsIframe');
        alertsIframe.src = "https://alerts.in.ua?time=" + new Date().getTime();
    }
    // Обновление iframe каждые 3 минуты
    setInterval(updateAlertIframe, 180000 );
</script>
</body>
</html>
